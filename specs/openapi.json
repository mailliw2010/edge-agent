{
    "openapi": "3.1.0",
    "info": {
        "title": "Edge AI Agent API",
        "description": "\u7528\u4e8e\u4e0e\u8fb9\u7f18\u8ba1\u7b97\u73af\u5883\u4ea4\u4e92\u7684 AI Agent \u670d\u52a1\u3002",
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/agent/invoke": {
            "post": {
                "summary": "Invoke Agent",
                "description": "\u8c03\u7528 AI Agent \u6765\u5904\u7406\u7528\u6237\u6307\u4ee4\u3002\n\n- **\u63a5\u6536**: \u4e00\u4e2a\u5305\u542b `query` (\u7528\u6237\u6307\u4ee4) \u548c\u53ef\u9009 `session_id` \u7684 JSON \u5bf9\u8c61\u3002\n- **\u5904\u7406**:\n    1. \u83b7\u53d6\u5f53\u524d\u73af\u5883\u72b6\u6001\u3002\n    2. \u8c03\u7528 Agent \u7684 `run` \u65b9\u6cd5\uff0c\u4f20\u5165\u7528\u6237\u6307\u4ee4\u548c\u73af\u5883\u72b6\u6001\u3002\n- **\u8fd4\u56de**: \u4e00\u4e2a\u5305\u542b `output` (Agent \u7684\u6700\u7ec8\u7b54\u590d) \u7684 JSON \u5bf9\u8c61\u3002",
                "operationId": "invoke_agent_api_v1_agent_invoke_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AgentRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AgentResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/": {
            "get": {
                "summary": "Read Root",
                "operationId": "read_root__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AgentRequest": {
                "properties": {
                    "query": {
                        "type": "string",
                        "title": "Query"
                    },
                    "session_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Session Id"
                    }
                },
                "type": "object",
                "required": [
                    "query"
                ],
                "title": "AgentRequest",
                "description": "API \u8bf7\u6c42\u4f53\u6a21\u578b"
            },
            "AgentResponse": {
                "properties": {
                    "output": {
                        "type": "string",
                        "title": "Output"
                    },
                    "intermediate_steps": {
                        "anyOf": [
                            {
                                "items": {
                                    "additionalProperties": true,
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Intermediate Steps"
                    }
                },
                "type": "object",
                "required": [
                    "output"
                ],
                "title": "AgentResponse",
                "description": "API \u54cd\u5e94\u4f53\u6a21\u578b"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}
